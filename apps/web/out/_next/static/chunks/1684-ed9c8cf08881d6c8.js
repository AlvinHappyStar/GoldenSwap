"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1684],{50696:function(e,r,n){var t=n(52322),i=n(25385),a=n(5406),o=n(23873),u=n(73921);r.Z=function(e){var r=e.tokens,n=e.onDismiss,s=e.onCancel,d=(0,u.$G)().t;return(0,t.jsx)(i.ZP,{title:d("Import Token"),onDismiss:function(){null==n||n(),s()},children:(0,t.jsx)(a.ZP,{maxWidth:"380px",children:(0,t.jsx)(o.Z,{tokens:r,handleCurrencySelect:n})})})}},68466:function(e,r,n){var t=n(70865),i=n(96670),a=n(26297),o=n(92228),u=n(52322),s=n(32301),d=n(46705),l=n(33080),c=n(11982),p=n(3411),v=n(85875);function f(){var e=(0,o.Z)(["\n  font-size: 32px;\n  line-height: 1.1;\n\n  "," {\n    font-size: 40px;\n  }\n"]);return f=function(){return e},e}var h={notation:"standard",displayThreshold:.001,tokenPrecision:!0},m=(0,p.ZP)(s.Z).withConfig({componentId:"sc-7f78eb9c-0"})(f(),function(e){return e.theme.mediaQueries.lg});r.Z=function(e){var r=e.value,n=e.inputSymbol,o=e.outputSymbol,p=e.children,f=e.format,x=(0,a.Z)(e,["value","inputSymbol","outputSymbol","children","format"]);return r?(0,u.jsxs)(d.Z,(0,i.Z)((0,t.Z)({alignItems:"baseline"},x),{children:[(0,u.jsxs)(l.Z,{alignItems:"inherit",children:[(0,u.jsx)(m,{mr:"8px",bold:!0,children:void 0===f||f?(0,v.d)("string"==typeof r?parseFloat(r):r,h):r}),n&&o&&(0,u.jsx)(s.Z,{color:"textSubtle",fontSize:"20px",bold:!0,lineHeight:1.1,children:"".concat(n,"/").concat(o)})]}),p]})):(0,u.jsx)(c.Z,(0,t.Z)({height:"36px",width:"128px"},x))}},57865:function(e,r,n){n.d(r,{jj:function(){return eX},SM:function(){return ez},rH:function(){return eJ},yF:function(){return eG},dU:function(){return eL}});var t,i,a,o,u,s=n(98788),d=n(47842),l=n(87394),c=n(50930),p=n(45680),v=n(73921),f=n(72027),h=n(8160),m=n(24330),x=n(99743),y=n(93725),D=n(63445),Z=n(7384),I=n(15112),g=n(19358),k=n(5632),w=n(2784),b=n(43997),A=n(51147),S=n(19022),E=n(12327),T=n(60242),U=n(74619),C=n(27436),P=n(517),j=n(95625),N=n(38497),$=n(37346),q=n(67152),W=n(80173),H=n(26390),B=n(17381),_=n(79311),F=n(17032),M=n(34519),Y=n.n(M),O=n(34498),L=n.n(O),R=n(20337),V=n(70050),G=n(92228),z=n(6647);function K(){var e=(0,G.Z)(["\n      query derivedTokenPriceData {\n        ","\n      }\n    "]);return K=function(){return e},e}var X=function(e){return(0,z.gql)(K(),e)},J=n(12877),Q=(t=(0,s.Z)(function(e,r,n){var t,i,a;return(0,p.__generator)(this,function(o){switch(o.label){case 0:return[4,(0,V.L)(X,r.map(function(r){return"\n    t".concat(r.timestamp,':token(id:"').concat(e,'", block: { number: ').concat(r.number,"}) {\n        derivedUSD\n      }\n    ")}),n?W.gr:W.JY,200)];case 1:if(!(t=o.sent()))return console.error("Price data failed to load"),[2,null];return i=Y()(t,function(e){return e.derivedUSD}),a=[],Object.keys(i).forEach(function(r){var n=r.split("t")[1];n&&a.push({tokenAddress:e,timestamp:n,derivedUSD:i[r]?parseFloat(i[r]):0})}),[2,L()(a,function(e){return parseInt(e.timestamp,10)})]}})}),function(e,r,n){return t.apply(this,arguments)}),ee=function(e){switch(e){case J.l.DAY:return H.Tb;case J.l.WEEK:return 4*H.Tb;case J.l.MONTH:return H.Bq;case J.l.YEAR:return 15*H.Bq;default:return 4*H.Tb}},er=function(e){switch(e){case J.l.DAY:return 1;case J.l.WEEK:return 7;case J.l.MONTH:return 30;case J.l.YEAR:return 365;default:return 7}},en=(i=(0,s.Z)(function(e,r,n,t,i){var a,o,u,s,d,c,v;return(0,p.__generator)(this,function(p){switch(p.label){case 0:for(a=ee(n),o=(0,B.Z)(new Date),u=(0,B.Z)((0,_.Z)((0,F.Z)(1e3*o,{days:er(n)}))),s=[],d=u;d<=o;)s.push(d),d+=a;p.label=1;case 1:return p.trys.push([1,4,,5]),[4,(0,R.z)(s,"asc",500)];case 2:if(!(c=p.sent())||0===c.length)return console.error("Error fetching blocks for timestamps",s),[2,null];return c.pop(),[4,Promise.all([Q(e,c,t),Q(r,c,i)])];case 3:return[2,{token0DerivedUSD:(v=l.Z.apply(void 0,[p.sent(),2]))[0],token1DerivedUSD:v[1]}];case 4:return console.error("Failed to fetched derived price data for chart",p.sent()),[2,null];case 5:return[2]}})}),function(e,r,n,t,a){return i.apply(this,arguments)}),et=n(90074),ei=n(74958);function ea(){var e=(0,G.Z)(["\n  query lastPairDayId($pairId: Bytes) {\n    pairDayDatas(first: 1, where: { pairAddress: $pairId }, orderBy: date, orderDirection: desc) {\n      id\n    }\n  }\n"]);return ea=function(){return e},e}var eo=(0,z.gql)(ea());function eu(){var e=(0,G.Z)(["\n  query pairHourDatas($pairId: String, $first: Int) {\n    pairHourDatas(first: $first, where: { pair: $pairId }, orderBy: hourStartUnix, orderDirection: desc) {\n      id\n      hourStartUnix\n      reserve0\n      reserve1\n      reserveUSD\n    }\n  }\n"]);return eu=function(){return e},e}function es(){var e=(0,G.Z)(["\n  query pairHourDatas($pairId: String, $first: Int) {\n    pairHourDatas(first: $first, where: { pair: $pairId }, orderBy: hourStartUnix, orderDirection: desc) {\n      id\n      hourStartUnix\n      reserve0: token0Price\n      reserve1: token1Price\n      reserveUSD\n    }\n  }\n"]);return es=function(){return e},e}var ed=(0,z.gql)(eu()),el=(0,z.gql)(es());function ec(){var e=(0,G.Z)(["\n  query pairDayDatasByIdsQuery($pairIds: [ID!]) {\n    pairDayDatas(where: { id_in: $pairIds }, orderBy: date, orderDirection: desc) {\n      id\n      date\n      reserve0\n      reserve1\n      reserveUSD\n    }\n  }\n"]);return ec=function(){return e},e}function ep(){var e=(0,G.Z)(["\n  query pairDayDatasByIdsQuery($pairIds: [ID!]) {\n    pairDayDatas(where: { id_in: $pairIds }, orderBy: date, orderDirection: desc) {\n      id\n      date\n      reserve0: token0Price\n      reserve1: token1Price\n      reserveUSD\n    }\n  }\n"]);return ep=function(){return e},e}var ev=(0,z.gql)(ec()),ef=(0,z.gql)(ep()),eh=(o={},(0,d.Z)(o,J.l.DAY,24),(0,d.Z)(o,J.l.WEEK,28),(0,d.Z)(o,J.l.MONTH,30),(0,d.Z)(o,J.l.YEAR,24),o),em=(u={},(0,d.Z)(u,J.l.DAY,null),(0,d.Z)(u,J.l.WEEK,6),(0,d.Z)(u,J.l.MONTH,1),(0,d.Z)(u,J.l.YEAR,15),u),ex=n(61258),ey=n.n(ex),eD=function(e){var r=e.id,n=e.pairId;return r.replace("".concat(n,"-"),"")},eZ=function(e){var r=e.pairAddress,n=e.pairLastId,t=e.timeWindow,i=e.idsCount,a=Number(n);return t===J.l.DAY?[]:ey()(i,function(e){return"".concat(r,"-").concat(a-e*em[t])})},eI=function(e,r){switch(r){case J.l.DAY:case J.l.WEEK:var n,t,i,a=null!==(i=null==e?void 0:null===(n=e.pairHourDatas)||void 0===n?void 0:n.length)&&void 0!==i?i:1;return(null==e?void 0:null===(t=e.pairHourDatas)||void 0===t?void 0:t.reduce(function(e,r){return e+parseFloat(r.reserveUSD)},0))/a>1e4;case J.l.MONTH:case J.l.YEAR:var o,u,s,d=null!==(s=null==e?void 0:null===(o=e.pairDayDatas)||void 0===o?void 0:o.length)&&void 0!==s?s:1;return(null==e?void 0:null===(u=e.pairDayDatas)||void 0===u?void 0:u.reduce(function(e,r){return e+parseFloat(r.reserveUSD)},0))/d>1e4;default:return null}};function eg(){var e=(0,G.Z)(["\n  query pairDayDatas($pairId: Bytes, $first: Int) {\n    pairDayDatas(first: $first, where: { pairAddress: $pairId }, orderBy: date, orderDirection: desc) {\n      id\n      date\n      reserve0\n      reserve1\n      reserveUSD\n    }\n  }\n"]);return eg=function(){return e},e}function ek(){var e=(0,G.Z)(["\n  query pairDayDatas($pairId: Bytes, $first: Int) {\n    pairDayDatas(first: $first, where: { pairAddress: $pairId }, orderBy: date, orderDirection: desc) {\n      id\n      date\n      reserve0: token0Price\n      reserve1: token1Price\n      reserveUSD\n    }\n  }\n"]);return ek=function(){return e},e}var ew=(0,z.gql)(eg()),eb=(0,z.gql)(ek());function eA(){var e=(0,G.Z)(["\n  query pairHourDatasByIds($pairIds: [ID!]) {\n    pairHourDatas(where: { id_in: $pairIds }, orderBy: hourStartUnix, orderDirection: desc) {\n      id\n      hourStartUnix\n      reserve0\n      reserve1\n      reserveUSD\n    }\n  }\n"]);return eA=function(){return e},e}function eS(){var e=(0,G.Z)(["\n  query pairHourDatasByIds($pairIds: [ID!]) {\n    pairHourDatas(where: { id_in: $pairIds }, orderBy: hourStartUnix, orderDirection: desc) {\n      id\n      hourStartUnix\n      reserve0: token0Price\n      reserve1: token1Price\n      reserveUSD\n    }\n  }\n"]);return eS=function(){return e},e}var eE=(0,z.gql)(eA()),eT=(0,z.gql)(eS());function eU(){var e=(0,G.Z)(["\n  query lastPairHourId($pairId: String) {\n    pairHourDatas(first: 1, where: { pair: $pairId }, orderBy: hourStartUnix, orderDirection: desc) {\n      id\n    }\n  }\n"]);return eU=function(){return e},e}var eC=(0,z.gql)(eU()),eP=(a=(0,s.Z)(function(e){var r,n,t,i,a,o,u,s,d,l,c,v,f,h;return(0,p.__generator)(this,function(p){switch(p.label){case 0:r=e.pairId,n=e.timeWindow,i=(t=e.isStableSwap)?ei.Wt:ei.dQ,p.label=1;case 1:switch(p.trys.push([1,14,,15]),n){case J.l.DAY:return[3,2];case J.l.WEEK:return[3,4];case J.l.MONTH:return[3,7];case J.l.YEAR:return[3,9]}return[3,12];case 2:return[4,(0,et.Z)(i,t?el:ed,{pairId:r,first:eh[n]})];case 3:case 6:case 8:case 11:return[2,{data:p.sent(),error:!1}];case 4:return[4,(0,et.Z)(i,eC,{pairId:r})];case 5:if(!(u=(null==(o=p.sent())?void 0:o.pairHourDatas)?null===(a=o.pairHourDatas[0])||void 0===a?void 0:a.id:null))return[2,{data:{pairHourDatas:[]},error:!1}];return s=eD({id:u,pairId:r}),d=eZ({pairAddress:r,pairLastId:s,timeWindow:n,idsCount:eh[n]}),[4,(0,et.Z)(i,t?eT:eE,{pairIds:d})];case 7:return[4,(0,et.Z)(i,t?eb:ew,{pairId:r,first:eh[n]})];case 9:return[4,(0,et.Z)(i,eo,{pairId:r})];case 10:if(!(v=(null==(c=p.sent())?void 0:c.pairDayDatas)?null===(l=c.pairDayDatas[0])||void 0===l?void 0:l.id:null))return[2,{data:{pairDayDatas:[]},error:!1}];return f=eD({id:v,pairId:r}),h=eZ({pairAddress:r,pairLastId:f,timeWindow:n,idsCount:eh[n]}),[4,(0,et.Z)(i,t?ef:ev,{pairIds:h})];case 12:return[2,{data:null,error:!1}];case 13:return[3,15];case 14:return console.error("Failed to fetch price chart data",p.sent()),[2,{error:!0}];case 15:return[2]}})}),function(e){return a.apply(this,arguments)}),ej=n(41410),eN=n(10017),e$=n.n(eN),eq=function(e,r,n,t){var i,a;switch(t){case J.l.DAY:case J.l.WEEK:return null==e?void 0:null===(i=e.pairHourDatas)||void 0===i?void 0:i.map(function(e){return{time:e.hourStartUnix,token0Id:r,token1Id:n,reserve0:parseFloat(e.reserve0),reserve1:parseFloat(e.reserve1)}});case J.l.MONTH:case J.l.YEAR:return null==e?void 0:null===(a=e.pairDayDatas)||void 0===a?void 0:a.map(function(e){return{time:e.date,token0Id:r,token1Id:n,reserve0:parseFloat(e.reserve0),reserve1:parseFloat(e.reserve1)}});default:return null}},eW=function(e){if(!(null==e?void 0:e.token0DerivedUSD)||(null==e?void 0:e.token0DerivedUSD.length)===0)return[];var r,n,t=e$()(null!==(n=null==e?void 0:null===(r=e.token1DerivedUSD)||void 0===r?void 0:r.map(function(e){return[e.timestamp,e]}))&&void 0!==n?n:[]);return null==e?void 0:e.token0DerivedUSD.reduce(function(e,r){var n=t[r.timestamp];return n&&e.push({time:parseInt(r.timestamp,10),token0Id:r.tokenAddress,token1Id:n.tokenAddress,token0DerivedUSD:r.derivedUSD,token1DerivedUSD:n.derivedUSD}),e},[])},eH=function(e){var r=e.pairData,n=e.activeToken;return null==r?void 0:r.map(function(e){return{time:(0,ej.Z)(e.time),value:n===(null==e?void 0:e.token0Id)?e.reserve1/e.reserve0:e.reserve0/e.reserve1}}).reverse()},eB=function(e){var r=e.pairData,n=e.activeToken;return null==r?void 0:r.map(function(e){return{time:(0,ej.Z)(e.time),value:n===(null==e?void 0:e.token0Id)?e.token0DerivedUSD/e.token1DerivedUSD:e.token1DerivedUSD/e.token0DerivedUSD}})},e_=n(72579),eF=n.n(e_),eM=function(e){var r=e.pairId,n=e.timeWindow;return function(e){return eF()(e,["swap","pairDataById",r,n])}},eY=function(e){var r=e.pairId,n=e.timeWindow;return function(e){return eF()(e,["swap","derivedPairDataById",r,n])}},eO=n(14864);function eL(){return(0,b.v9)(function(e){return e.swap})}var eR=["0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","0xf164fC0Ec4E93095b804a4795bBe1e041497b92a","0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D"];function eV(e,r){return e.route.path.some(function(e){return e.address===r})||e.route.pairs.some(function(e){return e.liquidityToken.address===r})}function eG(e,r,n,t){var i,a,o=(0,U.D)(e),u=(0,U.D)(n),s=(0,x.Z)("1",null!=r?r:void 0),l=(0,C.PD)(s,null!=t?t:void 0,f.YL.EXACT_INPUT);if(!r||!t||!l)return null;try{i=parseFloat(new f.tA({baseAmount:l.inputAmount,quoteAmount:l.outputAmount}).toSignificant(6))}catch(c){}if(!i)return null;var p=1/i;return a={},(0,d.Z)(a,o,i),(0,d.Z)(a,u,p),a}function ez(e,r,n,t,i){var a,o,u,s,c,p=(0,P.mA)().address,f=(0,v.$G)().t,h=null!==(a=null===i?p:(0,A.UJ)(i)||null)&&void 0!==a?a:null,m=(0,$.K5)(null!=p?p:void 0,(0,w.useMemo)(function(){return[null!=n?n:void 0,null!=t?t:void 0]},[n,t])),y=e===q.gN.INPUT,D=(0,x.Z)(r,null!==(o=y?n:t)&&void 0!==o?o:void 0),I=(0,Z.AU)(y?D:void 0,null!=t?t:void 0),g=(0,Z.in)(null!=n?n:void 0,y?void 0:D),k=y?I:g,b=(u={},(0,d.Z)(u,q.gN.INPUT,m[0]),(0,d.Z)(u,q.gN.OUTPUT,m[1]),u),E=(s={},(0,d.Z)(s,q.gN.INPUT,null!=n?n:void 0),(0,d.Z)(s,q.gN.OUTPUT,null!=t?t:void 0),s);p||(c=f("Connect Wallet")),D||(c=null!=c?c:f("Enter an amount")),E[q.gN.INPUT]&&E[q.gN.OUTPUT]||(c=null!=c?c:f("Select a token"));var T=(0,A.UJ)(h);h&&T?(-1!==eR.indexOf(T)||I&&eV(I,T)||g&&eV(g,T))&&(c=null!=c?c:f("Invalid recipient")):c=null!=c?c:f("Enter a recipient");var U=(0,l.Z)((0,N.$2)(),1)[0],C=k&&U&&(0,S.b5)(k,U),j=[b[q.gN.INPUT],C?C[q.gN.INPUT]:null],W=j[0],H=j[1];return W&&H&&W.lessThan(H)&&(c=f("Insufficient %symbol% balance",{symbol:H.currency.symbol})),{currencies:E,currencyBalances:b,parsedAmount:D,v2Trade:null!=k?k:void 0,inputError:c}}var eK=/^0x[a-fA-F0-9]{40}$/;function eX(){var e=(0,I.g)().chainId,r=(0,j.TL)(),n=(0,g.Z)(),t=(0,k.useRouter)().query,i=(0,l.Z)((0,w.useState)(),2),a=i[0],o=i[1];return(0,w.useEffect)(function(){if(e&&n){var i,a,u,s,l,c,p,v,f,m,x,y,Z=(a=n.symbol,u=null!==(y=null===(m=h.cr[e])||void 0===m?void 0:m.address)&&void 0!==y?y:null===(x=h.gn[e])||void 0===x?void 0:x.address,(l=(0,A.UJ)(t.inputCurrency)||(null!=a?a:D.VN))===(c="string"==typeof t.outputCurrency?(0,A.UJ)(t.outputCurrency)||a:null!=u?u:D.g$)&&("string"==typeof t.outputCurrency?l="":c=""),p="string"!=typeof(i=t.recipient)?null:(0,A.UJ)(i)||(eK.test(i)?i:null),s={},(0,d.Z)(s,q.gN.INPUT,{currencyId:l}),(0,d.Z)(s,q.gN.OUTPUT,{currencyId:c}),(0,d.Z)(s,"typedValue","string"!=typeof(v=t.exactAmount)||Number.isNaN(parseFloat(v))?"":v),(0,d.Z)(s,"independentField","string"==typeof(f=t.exactField)&&"output"===f.toLowerCase()?q.gN.OUTPUT:q.gN.INPUT),(0,d.Z)(s,"recipient",p),(0,d.Z)(s,"pairDataById",{}),(0,d.Z)(s,"derivedPairDataById",{}),s);r((0,q.mV)({typedValue:Z.typedValue,field:Z.independentField,inputCurrencyId:Z[q.gN.INPUT].currencyId,outputCurrencyId:Z[q.gN.OUTPUT].currencyId,recipient:null})),o({inputCurrencyId:Z[q.gN.INPUT].currencyId,outputCurrencyId:Z[q.gN.OUTPUT].currencyId})}},[r,e,t,n]),a}var eJ=function(e){var r,n=e.token0Address,t=e.token1Address,i=e.timeWindow,a=e.currentSwapPrice,o=(0,l.Z)((0,w.useState)(null),2),u=o[0],d=o[1],v=(0,l.Z)((0,w.useState)(!1),2),f=v[0],h=v[1],x=(0,b.v9)(eM({pairId:u,timeWindow:i})),D=(0,b.v9)(eY({pairId:u,timeWindow:i})),Z=(0,b.I0)(),g=(r=(0,I.g)().chainId,(0,w.useMemo)(function(){return eO.xv[r]},[r])),k=(0,w.useMemo)(function(){return g.find(function(e){return e.token0.isToken&&e.token1.isToken&&((0,m.q)(e.token0.address,n)||(0,m.q)(e.token0.address,t))&&((0,m.q)(e.token1.address,n)||(0,m.q)(e.token1.address,t))})},[g,n,t]),A=!!k;(0,w.useEffect)(function(){var e,r,a=(e=(0,s.Z)(function(){var e,r;return(0,p.__generator)(this,function(a){switch(a.label){case 0:console.info("[Price Chart]: Not possible to retrieve price data from single pool, trying to fetch derived prices"),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,en(n,t,i,g.some(function(e){return(0,m.q)(e.token0.wrapped.address,n)||(0,m.q)(e.token1.wrapped.address,n)}),g.some(function(e){return(0,m.q)(e.token0.wrapped.address,t)||(0,m.q)(e.token1.wrapped.address,t)}))];case 2:return(e=a.sent())?(r=eW(e),Z((0,q._U)({pairData:r,pairId:u,timeWindow:i}))):Z((0,q._U)({pairData:[],pairId:u,timeWindow:i})),[3,5];case 3:return console.error("Failed to fetch derived prices for chart",a.sent()),Z((0,q._U)({pairData:[],pairId:u,timeWindow:i})),[3,5];case 4:return h(!1),[7];case 5:return[2]}})}),function(){return e.apply(this,arguments)}),o=(r=(0,s.Z)(function(){var e,r,n,t,o,s;return(0,p.__generator)(this,function(d){switch(d.label){case 0:return h(!0),[4,eP({pairId:u,timeWindow:i,isStableSwap:A})];case 1:if(!(e=d.sent().data))return[3,6];if(t=eI(e,i),!A)return[3,2];return o=[[k.token0.wrapped.address],[k.token1.wrapped.address]],[3,5];case 2:return d.trys.push([2,4,,5]),[4,(0,T.vf)({abi:y,calls:[{address:u,name:"token0"},{address:u,name:"token1"}],options:{requireSuccess:!1}})];case 3:return o=d.sent(),[3,5];case 4:return d.sent(),console.info("Error fetching tokenIds from pair"),[3,5];case 5:return(s=o&&(null===(r=o[0])||void 0===r?void 0:r[0])&&(null===(n=o[1])||void 0===n?void 0:n[0])&&eq(e,o[0][0].toLowerCase(),o[1][0].toLowerCase(),i)||[]).length>0&&t?(Z((0,q.Wk)({pairData:s,pairId:u,timeWindow:i})),h(!1)):(console.info("[Price Chart]: Liquidity too low for ".concat(u)),Z((0,q.Wk)({pairData:[],pairId:u,timeWindow:i})),a()),[3,7];case 6:Z((0,q.Wk)({pairData:[],pairId:u,timeWindow:i})),a(),d.label=7;case 7:return[2]}})}),function(){return r.apply(this,arguments)});x||D||!u||f||o()},[u,i,x,a,n,t,D,Z,f,A,k,g]),(0,w.useEffect)(function(){!function(){try{var e,r,i=A?null==k?void 0:null===(e=k.stableSwapAddress)||void 0===e?void 0:e.toLowerCase():null===(r=(0,E.Z)(n,t))||void 0===r?void 0:r.toLowerCase();i!==u&&d(i)}catch(a){d(null)}}()},[n,t,u,A,k]);var S=(0,w.useMemo)(function(){return eH({activeToken:n,pairData:x})},[n,x]),U=(0,w.useMemo)(function(){return eB({activeToken:n,pairData:D})},[n,D]),C=a&&a[n]>0,P=(null==S?void 0:S.length)>0&&C?(0,c.Z)(S).concat([{time:new Date,value:a[n]}]):S,j=(null==U?void 0:U.length)>0&&C?(0,c.Z)(U).concat([{time:new Date,value:a[n]}]):U,N=P&&(null==P?void 0:P.length)===0,$=j&&(null==j?void 0:j.length)===0,W=N&&$?[]:void 0;return P&&(null==P?void 0:P.length)>0?W=P:j&&(null==j?void 0:j.length)>0&&(W=j),{pairPrices:W,pairId:u}}},12877:function(e,r,n){var t,i;n.d(r,{l:function(){return t}}),(i=t||(t={}))[i.DAY=0]="DAY",i[i.WEEK=1]="WEEK",i[i.MONTH=2]="MONTH",i[i.YEAR=3]="YEAR"},27436:function(e,r,n){n.d(r,{PD:function(){return w}});var t,i,a=n(98788),o=n(70865),u=n(96670),s=n(45680),d=n(2784),l=n(3255),c=n(72027),p=n(14864),v=n(84483),f=n(58194),h=n(7384),m=n(64332),x={"Content-Type":"application/json",Accept:"application/json"},y=(0,f.getAddress)("0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE");function D(e,r){return function(n,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a.maxHops,u=void 0===o?3:o,s=(0,h.YD)(null==n?void 0:n.currency,t),c=(0,d.useDeferredValue)(null==n?void 0:n.quotient.toString());return(0,l.ZP)(n&&n.currency&&t?[e,"swap",i,n.currency.chainId,n.currency.symbol,t.symbol,c,u,s]:null,function(){return r({amount:n,currency:t,tradeType:i,allCommonPairs:s,trader:"",maxHops:u})},{keepPreviousData:!0}).data}}function Z(e){return function(r,n,t){var i,a=e===c.YL.EXACT_INPUT?r.currency:n,o=e===c.YL.EXACT_INPUT?n:r.currency,u=r.quotient.toString();return i={networkId:a.chainId,baseToken:a.isToken?a.address:y,baseTokenName:null==a?void 0:a.name,baseTokenAmount:e===c.YL.EXACT_INPUT?u:void 0,baseTokenNumDecimals:null==a?void 0:a.decimals,quoteToken:o.isToken?o.address:y,quoteTokenAmount:e===c.YL.EXACT_OUTPUT?u:void 0,quoteTokenName:null==o?void 0:o.name,quoteTokenNumDecimals:null==o?void 0:o.decimals,trader:t},fetch("/smartRouter",{method:"POST",headers:x,body:JSON.stringify(i)}).then(function(e){return e.json()})}}var I=Z(c.YL.EXACT_INPUT),g=Z(c.YL.EXACT_OUTPUT),k=D("tradeFromChain",(t=(0,a.Z)(function(e){var r,n,t,i,a;return(0,s.__generator)(this,function(o){return r=e.amount,n=e.currency,t=e.tradeType,i=e.allCommonPairs,a=e.maxHops,[2,(t===c.YL.EXACT_INPUT?p.ZS:p.MV)(r,n,{provider:m.Ap,allCommonPairs:i,maxHops:a})]})}),function(e){return t.apply(this,arguments)}));function w(e,r,n,t){return k(e,r,n,t)}D("tradeFromApi",(i=(0,a.Z)(function(e){var r,n,t,i,a,d,l;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return r=e.amount,n=e.currency,t=e.tradeType,i=e.trader,[4,(t===c.YL.EXACT_INPUT?I:g)(r,n,i)];case 1:if(!(a=s.sent()))return[2,null];return d=(0,v.iG)(a.route.input),l=(0,v.iG)(a.route.output),[2,{tradeType:a.tradeType,route:(0,u.Z)((0,o.Z)({},a.route),{input:d,output:l,pairs:a.route.pairs.map(function(e){var r=(0,v.iG)(e.token0),n=(0,v.iG)(e.token1),t=c.ih.fromRawAmount(r,e.reserve0),i=c.ih.fromRawAmount(n,e.reserve1),a=new c.sO(t,i);return e.stableSwapAddress?(0,p.Ez)(a,e.stableSwapAddress):a}),path:a.route.path.map(function(e){return(0,v.iG)(e)})}),inputAmount:c.ih.fromRawAmount(d,a.inputAmount),outputAmount:c.ih.fromRawAmount(l,a.outputAmount)}]}})}),function(e){return i.apply(this,arguments)}))},92553:function(e,r,n){n.d(r,{Z:function(){return N}});var t=n(87394),i=n(52322),a=n(84252),o=n(2784),u=n(33080),s=n(32301),d=n(73921),l=n(92228),c=n(5406);function p(){var e=(0,l.Z)(["\n  border: none;\n  border-radius: 32px;\n  width: 100%;\n  padding-top: 36px;\n  "," {\n    padding-top: 8px;\n    background: ",";\n    border: ",";\n    border-radius: ",";\n    width: ",";\n    height: ",";\n  }\n"]);return p=function(){return e},e}var v=(0,n(3411).ZP)(c.ZP).withConfig({componentId:"sc-28b6a3ac-0"})(p(),function(e){return e.theme.mediaQueries.sm},function(e){return e.$isDark?"rgba(39, 38, 44, 0.5)":"rgba(255, 255, 255, 0.5)"},function(e){var r=e.theme;return"1px solid ".concat(r.colors.cardBorder)},function(e){return e.$isExpanded?"0":"16px"},function(e){var r=e.$isExpanded;return e.$isFullWidthContainer||r?"100%":"50%"},function(e){return e.$isExpanded?"100%":"516px"});v.defaultProps={height:"70%"};var f=function(e){var r=e.isDark,n=e.isChartExpanded,t=(0,d.$G)().t;return(0,i.jsx)(v,{$isDark:r,$isExpanded:n,p:"24px",children:(0,i.jsxs)(u.Z,{justifyContent:"center",alignItems:"center",height:"100%",flexDirection:"column",children:[(0,i.jsx)(s.Z,{mb:["8px","8px","0px"],textAlign:"center",children:t("You can swap WBNB for BNB (and vice versa) with no trading fees.")}),(0,i.jsx)(s.Z,{mb:["8px","8px","0px"],textAlign:"center",children:t("Exchange rate is always 1 to 1.")})]})})},h=n(16380),m=n(79221),x=n(75923),y=n(76538),D=n(83231),Z=n(34208),I=n(52774),g=n(38497),k=n(2572),w=n(41970),b=n(57865),A=n(25237),S=n.n(A),E=function(e){var r=e.token0Address,n=e.token1Address,t=e.pairAddress,a=e.isMobile,o=(0,d.$G)().t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(u.Z,{justifyContent:"center",alignItems:"center",height:"100%",flexDirection:"column",children:[(0,i.jsx)(s.Z,{mb:["8px","8px","0px"],children:o("Failed to load price chart for this pair")}),(0,i.jsxs)(s.Z,{textAlign:a?"center":"left",mb:["8px","8px","0px"],color:"textSubtle",small:!0,style:a&&{wordSpacing:"100vw"},children:["Token0: ",null!=r?r:"null"]}),(0,i.jsxs)(s.Z,{textAlign:a?"center":"left",mb:["8px","8px","0px"],color:"textSubtle",small:!0,style:a&&{wordSpacing:"100vw"},children:["Token1: ",null!=n?n:"null"]}),(0,i.jsxs)(s.Z,{textAlign:a?"center":"left",mb:["8px","8px","0px"],color:"textSubtle",small:!0,style:a&&{wordSpacing:"100vw"},children:["Pair: ",null!=t?t:"null"]})]})})},T=n(68466),U=n(74619),C=S()(function(){return Promise.all([n.e(5754),n.e(5213),n.e(758),n.e(3800)]).then(n.bind(n,90170))},{loadableGenerated:{webpack:function(){return[90170]}},ssr:!1}),P=(0,o.memo)(function(e){var r,n=e.token0Address,a=e.token1Address,l=e.isChartExpanded,p=e.inputCurrency,v=e.outputCurrency,f=e.isMobile,h=e.currentSwapPrice,m=(0,t.Z)((0,o.useState)(0),2),x=m[0],y=m[1],D=(0,b.rH)({token0Address:n,token1Address:a,timeWindow:x,currentSwapPrice:h}),Z=D.pairPrices,I=void 0===Z?[]:Z,g=D.pairId,A=(0,t.Z)((0,o.useState)(),2),S=A[0],P=A[1],j=(0,t.Z)((0,o.useState)(),2),N=j[0],$=j[1],q=S||(null===(r=I[I.length-1])||void 0===r?void 0:r.value),W=(0,U.E)(I),H=W.changePercentage,B=W.changeValue,_=B>=0,F=(0,d.$G)(),M=F.t,Y=F.currentLanguage.locale,O=new Date().toLocaleString(Y,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"});return I&&I.length>0&&I.every(function(e){return!e.value||0===e.value||e.value===1/0||Number.isNaN(e.value)})?(0,i.jsx)(E,{token0Address:n,token1Address:a,pairAddress:g,isMobile:f}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.Z,{flexDirection:["column",null,null,null,null,null,"row"],alignItems:["flex-start",null,null,null,null,null,"center"],justifyContent:"space-between",px:"24px",flexWrap:"wrap",children:[(0,i.jsxs)(u.Z,{flexDirection:"column",pt:"12px",children:[(0,i.jsx)(T.Z,{value:(null==I?void 0:I.length)>0&&q,inputSymbol:null==p?void 0:p.symbol,outputSymbol:null==v?void 0:v.symbol,children:(0,i.jsx)(s.Z,{color:_?"success":"failure",fontSize:"20px",ml:"4px",bold:!0,children:"".concat(_?"+":"").concat(B.toFixed(3)," (").concat(H,"%)")})}),(0,i.jsx)(s.Z,{small:!0,color:"secondary",children:N||O})]}),(0,i.jsx)(c.ZP,{children:(0,i.jsxs)(k.Z,{activeIndex:x,onItemClick:y,scale:"sm",children:[(0,i.jsx)(w.Z,{children:M("24H")}),(0,i.jsx)(w.Z,{children:M("1W")}),(0,i.jsx)(w.Z,{children:M("1M")}),(0,i.jsx)(w.Z,{children:M("1Y")})]})})]}),(0,i.jsx)(c.ZP,{height:f?"100%":l?"calc(100vh - 220px)":"320px",p:f?"0px":"16px",width:"100%",children:(0,i.jsx)(C,{data:I,setHoverValue:P,setHoverDate:$,isChangePositive:_,isChartExpanded:l,timeWindow:x})})]})},function(e,r){return e.token0Address===r.token0Address&&e.token1Address===r.token1Address&&e.isChartExpanded===r.isChartExpanded&&e.isMobile===r.isMobile&&e.isChartExpanded===r.isChartExpanded&&(null!==e.currentSwapPrice&&null!==r.currentSwapPrice&&e.currentSwapPrice[e.token0Address]===r.currentSwapPrice[r.token0Address]&&e.currentSwapPrice[e.token1Address]===r.currentSwapPrice[r.token1Address]||null===e.currentSwapPrice&&null===r.currentSwapPrice)}),j=function(e){var r=e.inputCurrency,n=e.outputCurrency,a=e.onSwitchTokens,o=e.isDark,d=e.isChartExpanded,l=e.setIsChartExpanded,c=e.isMobile,p=e.isFullWidthContainer,f=e.token0Address,h=e.token1Address,k=e.currentSwapPrice,w=(0,t.Z)((0,g.OE)(),1)[0];return(0,i.jsxs)(v,{height:w===I.UU.TRADING_VIEW?"100%":"70%",overflow:w===I.UU.TRADING_VIEW?"hidden":"unset",$isDark:o,$isExpanded:d,$isFullWidthContainer:p,children:[(0,i.jsxs)(u.Z,{justifyContent:"space-between",px:"24px",children:[(0,i.jsxs)(u.Z,{alignItems:"center",children:[n?(0,i.jsx)(Z.g,{currency0:r,currency1:n,size:24,margin:!0}):r&&(0,i.jsx)(Z.X,{currency:r,size:"24px",style:{marginRight:"8px"}}),r&&(0,i.jsx)(s.Z,{color:"text",bold:!0,children:n?"".concat(r.symbol,"/").concat(n.symbol):r.symbol}),(0,i.jsx)(m.Z,{variant:"text",onClick:a,children:(0,i.jsx)(x.Z,{ml:"6px",color:"primary"})})]}),!c&&(0,i.jsx)(u.Z,{children:(0,i.jsx)(m.Z,{variant:"text",onClick:function(){return l(function(e){return!e})},children:d?(0,i.jsx)(y.Z,{color:"text"}):(0,i.jsx)(D.Z,{color:"text"})})})]}),w===I.UU.BASIC&&(0,i.jsx)(P,{token0Address:f,token1Address:h,isChartExpanded:d,inputCurrency:r,outputCurrency:n,isMobile:c,currentSwapPrice:k})]})},N=function(e){var r=e.inputCurrencyId,n=e.inputCurrency,u=e.outputCurrency,s=e.outputCurrencyId,d=e.isChartExpanded,l=e.setIsChartExpanded,c=e.isChartDisplayed,p=e.isMobile,v=e.isFullWidthContainer,m=e.currentSwapPrice,x=(0,U.D)(r),y=(0,U.D)(s),D=(0,t.Z)((0,o.useState)(!1),2),Z=D[0],I=D[1],g=(0,o.useCallback)(function(){return I(function(e){return!e})},[]),k=(0,a.ZP)().isDark;return c?x===h.I&&y===h.I?(0,i.jsx)(f,{isDark:k,isChartExpanded:d}):(0,i.jsx)(j,{token0Address:Z?y:x,token1Address:Z?x:y,inputCurrency:Z?u:n,outputCurrency:Z?n:u,onSwitchTokens:g,isDark:k,isChartExpanded:d,setIsChartExpanded:l,isMobile:p,isFullWidthContainer:void 0!==v&&v,currentSwapPrice:m}):null}},16380:function(e,r,n){n.d(r,{I:function(){return t}});var t="0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c"},74619:function(e,r,n){n.d(r,{D:function(){return a},E:function(){return i}});var t=n(16380),i=function(e){if(e.length>0){var r,n,t=null!==(n=null===(r=e.find(function(e){var r=e.value;return!!r&&r>0}))||void 0===r?void 0:r.value)&&void 0!==n?n:0,i=e[e.length-1].value-t;return{changeValue:i>0?Math.max(i,.001):Math.min(i,-.001),changePercentage:(i/t*100).toFixed(2)}}return{changeValue:0,changePercentage:0}},a=function(e){if(!e)return"";var r=e.toLowerCase();return"bnb"===r?t.I:r}},66262:function(e,r,n){var t=n(52322),i=n(67262),a=n(2784),o=n(28316),u=n(20870),s=n(65512),d=n(5289),l=n(5406),c=n(79221),p=n(3337),v=n(87094),f=n(62256);r.Z=function(e){var r=e.content,n=e.isOpen,h=e.setIsOpen,m=(0,a.useRef)(null),x=(0,i.tr)(n,350),y=(0,u.Z)().isDesktop;if((0,s.Z)(null==m?void 0:m.current,(0,a.useCallback)(function(){return h(!1)},[h])),!x||y)return null;var D=(0,d.Z)();return D?(0,o.createPortal)((0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Z,{isUnmounting:!n}),(0,t.jsxs)(f.qt,{ref:m,isUnmounting:!n,children:[(0,t.jsx)(l.ZP,{position:"absolute",right:"16px",top:"0",children:(0,t.jsx)(c.Z,{variant:"text",onClick:function(){return h(!1)},children:(0,t.jsx)(v.Z,{})})}),r]})]}),D):null}},83231:function(e,r,n){var t=n(70865),i=n(96670),a=n(52322);n(2784);var o=n(6816);r.Z=function(e){return(0,a.jsx)(o.Z,(0,i.Z)((0,t.Z)({viewBox:"0 0 25 24"},e),{children:(0,a.jsx)("path",{d:"M20.497 4.6l-.004-.028-.006-.036-.008-.033-.007-.03-.012-.032-.01-.03-.014-.028-.014-.03-.016-.027-.018-.03-.021-.028-.018-.024a.663.663 0 00-.044-.048v-.001a.66.66 0 00-.049-.044l-.024-.018-.028-.02-.03-.018-.026-.016-.03-.015c-.01-.004-.02-.01-.03-.013l-.03-.011-.03-.011-.031-.008-.033-.008-.035-.005-.03-.005A.684.684 0 0019.834 4h-4.667a.667.667 0 100 1.333h3.057l-4.862 4.862a.667.667 0 10.943.943l4.862-4.862v3.057a.667.667 0 101.333 0V4.667a.658.658 0 00-.003-.066zM10.696 12.861l-4.862 4.862v-3.057a.667.667 0 10-1.333 0v4.667l.003.066.005.029.005.035.008.033.008.03.01.032.012.03.013.029.015.03.016.027.017.029.021.028.018.024a.663.663 0 00.093.093l.024.018.029.021.029.018.026.016.03.014.03.014.03.01.031.012.03.007.033.008.036.006.029.004a.657.657 0 00.066.003h4.666a.667.667 0 000-1.333H6.777l4.862-4.862a.667.667 0 00-.943-.943z"})}))}},76538:function(e,r,n){var t=n(70865),i=n(96670),a=n(52322);n(2784);var o=n(6816);r.Z=function(e){return(0,a.jsx)(o.Z,(0,i.Z)((0,t.Z)({viewBox:"0 0 25 25"},e),{children:(0,a.jsx)("path",{d:"M12.327 13.27c0-.01-.003-.019-.004-.028l-.005-.036-.009-.033-.007-.03-.011-.032-.011-.03-.014-.028-.014-.03c-.005-.01-.01-.019-.016-.027l-.018-.03-.021-.028-.018-.024a.692.692 0 00-.044-.049.674.674 0 00-.049-.044l-.024-.018-.028-.02-.03-.018-.026-.016-.03-.015c-.01-.005-.02-.01-.03-.013l-.03-.011-.03-.011-.031-.008-.033-.008-.035-.006-.03-.004a.689.689 0 00-.065-.003H6.997a.667.667 0 000 1.333h3.057l-4.862 4.862a.667.667 0 10.943.943l4.862-4.862v3.057a.667.667 0 001.333 0v-4.666a.689.689 0 00-.003-.066zM19.862 4.195L15 9.057V6a.667.667 0 10-1.333 0v4.667c0 .022.001.044.003.065l.005.03.005.035.008.033.008.03.01.032.012.03.013.029.015.03.016.027.017.029.021.028.018.024a.692.692 0 00.093.093l.024.018.028.021.03.018.027.015.03.015.029.014.03.01.031.012.03.007.033.008.036.006.029.004a.688.688 0 00.066.003H19A.667.667 0 0019 10h-3.057l4.862-4.862a.667.667 0 00-.943-.943z"})}))}}}]);
//# sourceMappingURL=1684-ed9c8cf08881d6c8.js.map